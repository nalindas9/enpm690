<?xml version='1.0'?>
<robot name="shady">
	<!-- Base Link -->
	<link name="base_link">
		<visual>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<box size="0.8 0.5 0.25"/>
			</geometry>
			<material name="blue">
				<color rgba="0 0.7 1 1"/>
			</material>
		</visual>
		<!-- Base collision -->
		<collision>
			<origin xyz="0 0 0" rpy="0 0 0" />
			<geometry>
				<box size="0.8 0.5 0.25"/>
			</geometry>
		</collision>
		<!-- Base Link Inertia-->
		<inertial>
		<mass value="8"/>
			<inertia ixx="0.468" ixy="0.0" ixz="0.0"
			iyy="0.208" iyz="0.0" izz="0.593"/>
		</inertial>
		<!-- Caster -->
		<visual name="caster">
		<origin xyz="0.3 0 -0.125" rpy="0 0 0" />
		<geometry>
			<sphere radius="0.065" />
		</geometry>
		</visual>
		<!-- Caster collision -->
		<collision>
			<origin xyz="0.3 0 -0.125" rpy="0 0 0" />
			<geometry>
			<sphere radius="0.065" />
			</geometry>
		</collision>
		<!-- Caster Inertia-->
		<inertial>
		<mass value="0.7"/>
			<inertia ixx="0.00118" ixy="0.0" ixz="0.0"
			iyy="0.00118" iyz="0.0" izz="0.00118"/>
		</inertial>
	</link>
	
	<!-- Right Wheel -->
	<link name="right_wheel">
		<visual>
			<origin xyz="0 0 0" rpy="1.570795 0 0" />
			<geometry>
				<cylinder length="0.1" radius="0.15" />
			</geometry>
			<material name="black">
				<color rgba="0.05 0.05 0.05 1"/>
			</material>
		</visual>
		
		<!-- Right Wheel collision -->
		<collision>
			<origin xyz="0 0 0" rpy="1.570795 0 0" />
			<geometry>
				<cylinder length="0.1" radius="0.15" />
			</geometry>
		</collision>
		<!-- Right Wheel Inertia-->
		<inertial>
			<mass value="0.3"/>
			<inertia ixx="0.003" ixy="0.0" ixz="0.0"
			iyy="0.0019" iyz="0.0" izz="0.0019"/>
		</inertial>
	</link>
	
	<joint name="joint_right_wheel" type="continuous">
		<parent link="base_link"/>
		<child link="right_wheel"/>
		<origin xyz="-0.3 -0.30 -0.07" rpy="0 0 0" />
		<axis xyz="0 1 0" />
	</joint>

	<!-- Left Wheel -->
	<link name="left_wheel">
		<visual>
		<origin xyz="0 0 0" rpy="1.570795 0 0" />
		<geometry>
			<cylinder length="0.1" radius="0.15" />
		</geometry>
		<material name="black"/>
		</visual>
		
	<!-- Left Wheel collision -->
	<collision>
		<origin xyz="0 0 0" rpy="1.570795 0 0" />
		<geometry>
			<cylinder length="0.1" radius="0.15" />
		</geometry>
	</collision>
	<!-- Left Wheel Inertia-->
	<inertial>
		<mass value="0.3"/>
		<inertia ixx="0.003" ixy="0.0" ixz="0.0"
		iyy="0.0019" iyz="0.0" izz="0.0019"/>
	</inertial>
	</link>

	<joint name="joint_left_wheel" type="continuous">
		<parent link="base_link"/>
		<child link="left_wheel"/>
		<origin xyz="-0.3 0.30 -0.07" rpy="0 0 0" />
		<axis xyz="0 1 0" />
	</joint>

	<!-- Gazebo specific color -->
	<gazebo reference="base_link">
		<material>Gazebo/Blue</material>
	</gazebo>
	<gazebo reference="right_wheel">
		<material>Gazebo/Black</material>
	</gazebo>
	<gazebo reference="left_wheel">
		<material>Gazebo/Black</material>
	</gazebo>
	<!-- Gazebo Differential Drive ROS Plugin -->
	<gazebo>
	  <plugin name="differential_drive_controller" filename="libgazebo_ros_diff_drive.so">
	    <alwaysOn>true</alwaysOn>
	    <updateRate>${update_rate}</updateRate>
	    <leftJoint>left_wheel</leftJoint>
	    <rightJoint>right_wheel</rightJoint>
	    <wheelSeparation>0.60</wheelSeparation>
	    <wheelDiameter>0.30</wheelDiameter>
	    <torque>20</torque>
	    <commandTopic>cmd_vel</commandTopic>
	    <odometryTopic>odom</odometryTopic>
	    <odometryFrame>odom</odometryFrame>
	    <robotBaseFrame>base_link</robotBaseFrame>
	  </plugin>
	</gazebo>
</robot>
